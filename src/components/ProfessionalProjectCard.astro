---
interface Props {
  title: string;
  description: string;
  role: string;
  url: string;
  image: string;
  type?: 'youtube' | 'instagram' | 'website' | 'github' | 'steam' | 'fab' | 'company' | 'homebrew';
}

const { title, description, role, url, image, type = 'website' } = Astro.props;

// Brand colors and icons mapping
const brandConfig: Record<string, { color: string; icon: string }> = {
  youtube: { color: '#ff0000', icon: 'youtube.svg' },
  instagram: { color: '#E4405F', icon: 'instagram.svg' },
  github: { color: '#333333', icon: 'github.svg' },
  steam: { color: '#1b9fd8', icon: 'steam.svg' },
  fab: { color: '#00d4aa', icon: 'fab.svg' },
  company: { color: '#8b5cf6', icon: 'company.svg' },
  homebrew: { color: '#FBB040', icon: 'homebrew.svg' },
  website: { color: '#6b7280', icon: 'website.svg' }
};

const brand = brandConfig[type];
const iconMaskStyle = `
  -webkit-mask-image: url(/${brand.icon});
  mask-image: url(/${brand.icon});
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
  background-color: ${brand.color};
`;
---

<a 
  href={url}
  target="_blank"
  rel="noopener noreferrer"
  class="card shadow-sm hover:shadow-xl transition-all duration-300 h-full p-6 desktop:p-4"
  style={`background-color: ${brand.color}10;`}
>
  <div class="flex flex-row gap-6 h-full">
    <div class="flex-1 flex flex-col justify-between">
      <div>
        <div class="flex items-start gap-2 mb-2">
          <div 
            class="w-4 h-4 opacity-60 flex-shrink-0 mt-[0.2375rem]"
            style={iconMaskStyle}
          />
          <h3 class="card-title text-base font-semibold text-base-content/80">{title}</h3>
        </div>
        <span class="inline-block px-2 py-1 rounded-full text-xs font-medium text-base-content/70" style={`background-color: ${brand.color}20;`}>{description}</span>
        <p class="text-sm text-base-content/60 mt-2">{role}</p>
      </div>
    </div>
    
    <div class="w-36 desktop:w-48 flex-shrink-0 rounded-lg overflow-hidden bg-base-200">
      <img
        src={image}
        alt={title}
        class="w-full h-full object-cover aspect-video"
      />
    </div>
  </div>
</a>
