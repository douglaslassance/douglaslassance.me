---
import Icon from '../components/Icon.astro';
import PresenceCard from '../components/PresenceCard.astro';
import ProfessionalProjectCard from '../components/ProfessionalProjectCard.astro';
import ProjectCard from '../components/ProjectCard.astro';

const profileData = {
  name: "Douglas Lassance",
  bio: "Raised in France, maturing in Los Angeles, I juxtapose brush strokes, connect vertices, drop keyframes, and chain instructions. Once in a while, others can enjoy the result.",
  avatar: "/avatar.png",
  online: [
    { name: "Bluesky", icon: "bluesky.svg", url: "https://bsky.app/profile/douglaslassance.bsky.social", count: "1.2K", action: "Follow", color: "#1185fe" },
    { name: "YouTube", icon: "youtube.svg", url: "https://youtube.com/@douglaslassance", count: "856", action: "Subscribe", color: "#ff0000" },
    { name: "Spotify", icon: "spotify.svg", url: "https://open.spotify.com/user/asterokid", count: "42", action: "Follow", color: "#1db954" },
    { name: "GitHub", icon: "github.svg", url: "https://github.com/douglaslassance", count: "17", action: "Follow", color: "#333333" },
    { name: "Mastodon", icon: "mastodon.svg", url: "https://mastodon.social/@douglaslassance", count: "94", action: "Follow", color: "#6364ff" },
    { name: "Patreon", icon: "patreon.svg", url: "https://patreon.com/douglaslassance", count: "8", action: "Support", color: "#ff424d" },
    { name: "LinkedIn", icon: "linkedin.svg", url: "https://linkedin.com/in/douglaslassance", count: "500+", action: "Connect", color: "#0a66c2" },
    { name: "SoundCloud", icon: "soundcloud.svg", url: "https://soundcloud.com/douglaslassance", count: "127", action: "Follow", color: "#ff5500" },
    { name: "Pinterest", icon: "pinterest.svg", url: "https://pinterest.com/douglaslassance", count: "215", action: "Follow", color: "#e60023" },
    { name: "Fab", icon: "fab.svg", url: "https://www.fab.com/sellers/Douglas%20Lassance", count: "342", action: "View", color: "#00d4aa" },
    { name: "Midjourney", icon: "midjourney.svg", url: "https://www.midjourney.com/@douglaslassance", count: "1.5K", action: "View", color: "#000000" },
    { name: "Itch.io", icon: "itch-io.svg", url: "https://douglaslassance.itch.io", count: "412", action: "Follow", color: "#fa5c5c" },
    { name: "Gumroad", icon: "gumroad.svg", url: "https://douglaslassance.gumroad.com", count: "289", action: "Follow", color: "#ff90e8" },
    { name: "Apple Music", icon: "apple-music.svg", url: "https://music.apple.com/profile/douglaslassance", count: "34", action: "Follow", color: "#fa243c" },
    { name: "Ko-fi", icon: "ko-fi.svg", url: "https://ko-fi.com/douglaslassance", count: "23", action: "Support", color: "#ff5e5b" },
    { name: "Medium", icon: "medium.svg", url: "https://medium.com/@douglaslassance", count: "156", action: "Follow", color: "#000000" },
  ],
  personal: [
    {
      title: "Personal Project One",
      description: "A cool side project I built to solve a problem I encountered in my daily workflow.",
      image: "/project1.jpg",
      url: "#"
    },
    {
      title: "Personal Project Two",
      description: "Another interesting personal endeavor exploring new technologies.",
      image: "/project2.jpg",
      url: "#"
    }
  ],
  professional: [
    {
      title: "Professional Project One",
      description: "An enterprise solution I contributed to, serving thousands of users.",
      image: "/project3.jpg",
      url: "#"
    },
    {
      title: "Professional Project Two",
      description: "A commercial product I helped build from the ground up.",
      image: "/project4.jpg",
      url: "#"
    }
  ]
};
---

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{profileData.name}</title>
    <meta name="description" content={profileData.bio} />
    <link rel="icon" type="image/png" href="/avatar.png" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script is:inline>
      // Detect system theme preference on load
      const theme = localStorage.getItem('theme') || 
        (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
      document.documentElement.setAttribute('data-theme', theme);
    </script>
    <style>
      body {
        font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      }
      
      /* Softer colors - no pure black or white */
      [data-theme="dark"] {
        --bg-primary: #0f1419;
        --bg-secondary: #1a1f26;
        --border-color: #2a3340;
        --text-primary: #e8eaed;
        --text-secondary: #9aa0a6;
      }
      
      [data-theme="light"] {
        --bg-primary: #fafafa;
        --bg-secondary: #ffffff;
        --border-color: #e5e7eb;
        --text-primary: #1f2937;
        --text-secondary: #6b7280;
      }

      /* 3D hover effect for cards */
      .card-3d {
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        transform-style: preserve-3d;
      }
      
      .card-3d:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
      }
      
      /* Icon hover effect */
      .social-icon {
        transition: all 0.3s ease;
      }
      
      .presence-card:hover .social-icon {
        filter: grayscale(0%) opacity(1) !important;
      }
      
      /* Presence button styling */
      .presence-btn {
        border-color: var(--brand-color) !important;
        color: var(--brand-color) !important;
        transition: all 0.3s ease;
      }
      
      .presence-btn:hover {
        background-color: var(--brand-color) !important;
        border-color: var(--brand-color) !important;
        color: white !important;
      }
      
      [data-theme="dark"] {
        --accent-color: #3b82f6;
      }
      
      [data-theme="light"] {
        --accent-color: #3b82f6;
      }

      /* Monochrome icon tinting with brand colors */
      .monochrome-icon {
        position: relative;
        display: inline-block;
      }
      
      /* For light theme: make icons use brand color */
      [data-theme="light"] .monochrome-icon {
        filter: brightness(0) saturate(100%);
        opacity: 0.8;
      }
      
      /* For dark theme: invert then apply brand color */
      [data-theme="dark"] .monochrome-icon {
        filter: brightness(0) saturate(100%) invert(1);
        opacity: 0.8;
      }
      
      /* Match project card height to presence cards */
      .presence-card-height {
        height: calc((100vw - 32rem - 2rem) / 4);
      }
      
      @media (min-width: 768px) {
        .presence-card-height {
          height: auto;
          aspect-ratio: 2 / 1;
        }
      }
    </style>
  </head>
  <body class="min-h-screen overflow-hidden" style="background: var(--bg-primary); color: var(--text-primary);">
    <!-- Mobile Header (visible only on mobile) -->
    <header class="lg:hidden p-8" style="background: var(--bg-primary);">
      <div class="flex items-center gap-4">
        <div class="avatar">
          <div class="w-24 rounded-full">
            <img src={profileData.avatar} alt={profileData.name} />
          </div>
        </div>
        <div>
          <h1 class="text-2xl font-bold">{profileData.name}</h1>
          <p class="text-base" style="color: var(--text-secondary)">{profileData.bio}</p>
        </div>
      </div>
    </header>

    <div class="flex h-screen lg:h-screen px-4">
      <!-- Left Column - Fixed Profile (hidden on mobile) -->
      <aside class="hidden lg:flex lg:w-1/2 xl:w-2/5 px-[45px] py-12 flex-col justify-between" style="background: var(--bg-primary);">
        <div class="flex flex-col space-y-8">
          <!-- Top spacing -->
          <div class="h-[50px]"></div>
          
          <div class="avatar">
            <div class="w-48 rounded-full">
              <img src={profileData.avatar} alt={profileData.name} />
            </div>
          </div>
          <div>
            <h1 class="text-4xl font-bold mb-4">{profileData.name}</h1>
            <p class="text-lg leading-relaxed" style="color: var(--text-secondary)">{profileData.bio}</p>
          </div>
        </div>
        
        <!-- Theme Toggle at Bottom -->
        <div class="mt-auto pt-8">
          <label class="swap swap-rotate">
            <input type="checkbox" id="theme-toggle" class="theme-controller" />
            
            <!-- sun icon -->
            <svg class="swap-on fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M5.64,17l-.71.71a1,1,0,0,0,0,1.41,1,1,0,0,0,1.41,0l.71-.71A1,1,0,0,0,5.64,17ZM5,12a1,1,0,0,0-1-1H3a1,1,0,0,0,0,2H4A1,1,0,0,0,5,12Zm7-7a1,1,0,0,0,1-1V3a1,1,0,0,0-2,0V4A1,1,0,0,0,12,5ZM5.64,7.05a1,1,0,0,0,.7.29,1,1,0,0,0,.71-.29,1,1,0,0,0,0-1.41l-.71-.71A1,1,0,0,0,4.93,6.34Zm12,.29a1,1,0,0,0,.7-.29l.71-.71a1,1,0,1,0-1.41-1.41L17,5.64a1,1,0,0,0,0,1.41A1,1,0,0,0,17.66,7.34ZM21,11H20a1,1,0,0,0,0,2h1a1,1,0,0,0,0-2Zm-9,8a1,1,0,0,0-1,1v1a1,1,0,0,0,2,0V20A1,1,0,0,0,12,19ZM18.36,17A1,1,0,0,0,17,18.36l.71.71a1,1,0,0,0,1.41,0,1,1,0,0,0,0-1.41ZM12,6.5A5.5,5.5,0,1,0,17.5,12,5.51,5.51,0,0,0,12,6.5Zm0,9A3.5,3.5,0,1,1,15.5,12,3.5,3.5,0,0,1,12,15.5Z"/>
            </svg>
            
            <!-- moon icon -->
            <svg class="swap-off fill-current w-6 h-6" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
              <path d="M21.64,13a1,1,0,0,0-1.05-.14,8.05,8.05,0,0,1-3.37.73A8.15,8.15,0,0,1,9.08,5.49a8.59,8.59,0,0,1,.25-2A1,1,0,0,0,8,2.36,10.14,10.14,0,1,0,22,14.05,1,1,0,0,0,21.64,13Zm-9.5,6.69A8.14,8.14,0,0,1,7.08,5.22v.27A10.15,10.15,0,0,0,17.22,15.63a9.79,9.79,0,0,0,2.1-.22A8.11,8.11,0,0,1,12.14,19.73Z"/>
            </svg>
          </label>
        </div>
      </aside>

      <!-- Right Column - Scrollable Content -->
      <main class="flex-1 overflow-y-auto px-[45px] py-12" style="background: var(--bg-primary);">
        <!-- Top spacing -->
        <div class="h-[50px]"></div>
        
        <!-- Online Presence -->
        <section class="mb-16">
          <h2 class="text-xl font-semibold mb-8">Online presence</h2>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
          {profileData.online.map((social) => (
            <PresenceCard 
              name={social.name}
              icon={social.icon}
              url={social.url}
              color={social.color}
              action={social.action}
              count={social.count}
            />
          ))}
          </div>
        </section>

        <!-- Personal Projects -->
        <section class="mb-16">
          <h2 class="text-lg font-normal mb-6 text-base-content/70">Personal projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <ProjectCard
            title="Galactic Mail"
            description="Short film"
            url="https://youtu.be/WacTwZljbKk"
            image="https://i.ytimg.com/vi/WacTwZljbKk/hqdefault.jpg"
            type="youtube"
          />
          <ProjectCard
            title="Greedy Hand"
            description="Photo series"
            url="https://www.instagram.com/greedyhand"
            image="https://picsum.photos/seed/greedyhand/400/300"
            type="instagram"
          />
          <ProjectCard
            title="Shaker"
            description="Unreal Engine plugin"
            url="https://www.unrealengine.com/marketplace/en-US/product/shaker"
            image="https://picsum.photos/seed/shaker/400/300"
            type="website"
          />
          <ProjectCard
            title="Sigg Jones"
            description="Short film"
            url="https://youtu.be/TE86DR8E0LI"
            image="https://i.ytimg.com/vi/TE86DR8E0LI/hqdefault.jpg"
            type="youtube"
          />
          <ProjectCard
            title="Gifted"
            description="macOS application"
            url="https://youtu.be/uSvY8ygMFig"
            image="https://i.ytimg.com/vi/uSvY8ygMFig/hqdefault.jpg"
            type="youtube"
          />
          <ProjectCard
            title="Gitalong"
            description="Command line interface"
            url="https://github.com/douglaslassance/gitalong"
            image="https://picsum.photos/seed/gitalong/400/300"
            type="github"
          />
          <ProjectCard
            title="Playsthetic"
            description="Game studio"
            url="https://playsthetic.com/"
            image="https://picsum.photos/seed/playsthetic/400/300"
            type="website"
          />
          <ProjectCard
            title="Peel"
            description="macOS application"
            url="https://formulae.brew.sh/formula/peel"
            image="https://picsum.photos/seed/peel/400/300"
            type="github"
          />
        </div>
        </section>

        <!-- Professional Projects -->
        <section class="mb-16">
          <h2 class="text-lg font-normal mb-6 text-base-content/70">Professional projects</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <ProfessionalProjectCard
            title="Fortnite Superman"
            description='Cinematic'
            role="Technical Director"
            url="https://youtu.be/Kk9nW1UMsH0?si=iuRVesNojyi0VEKS"
            image="https://i.ytimg.com/vi/Kk9nW1UMsH0/hqdefault.jpg"
            type="youtube"
          />
          <ProfessionalProjectCard
            title="Spectre Divide",
            description='Video game',
            role="Principal Technical Artist",
            url="https://store.steampowered.com/app/2641470/Spectre_Divide/"
            image="https://shared.fastly.steamstatic.com/store_item_assets/steam/apps/2641470/header.jpg?t=1745278846"
            type="steam"
          />
          <ProfessionalProjectCard
            title="Marcel Lassance",
            description='Internet site',
            role="Developer",
            url="https://www.youtube.com/watch?v=WacTwZljbKk"
            image="https://i.ytimg.com/vi/WacTwZljbKk/hqdefault.jpg"
            type="youtube"
          />
        </div>
        </section>
      </main>
    </div>

    <script>
      // Theme toggle functionality
      const themeToggle = document.getElementById('theme-toggle') as HTMLInputElement;
      
      function setTheme(theme: string) {
        document.documentElement.setAttribute('data-theme', theme);
        localStorage.setItem('theme', theme);
        if (themeToggle) {
          themeToggle.checked = theme === 'dark';
        }
      }
      
      // Check for saved theme preference or default to system preference
      const savedTheme = localStorage.getItem('theme');
      const systemTheme = window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
      setTheme(savedTheme || systemTheme);
      
      themeToggle?.addEventListener('change', () => {
        setTheme(themeToggle.checked ? 'dark' : 'light');
      });
    </script>
  </body>
</html>
